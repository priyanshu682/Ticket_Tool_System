<div class="row">
  <div class="col-12">
    <div class="btn-group">
      <button type="button" (click)="changeMode('My Tickets')"
        [class]="mode == 'My Tickets' ? 'btn btn-success':'btn btn-primary'">My Tickets</button>
      <button type="button" (click)="changeMode('Assigned Tickets')"
        [class]="mode == 'Assigned Tickets' ? 'btn btn-success':' btn btn-primary'">Assigned Tickets</button>
    </div>
  </div>
</div>
<div class="row">
  <div class="col-12 text-center"> @if (mode == 'My Tickets') { <table
      class="table table-bordered table-striped table-hover caption-top">
      <caption class="text-center">{{mode}}</caption>
      <thead>
        <tr>
          <th>Ticket No</th>
          <th>Department</th>
          <th>Contact No</th>
          <th>Created Date</th>
          <th>State</th>
          <th>Severity</th>
          <th>Assigned To</th>
          <th>Category</th>
          <th>Sub Category</th>
        </tr>
      </thead>
      <tbody> @for (item of myTicketList; track $index) { <tr>
          <td>{{item.ticketNo}}</td>
          <td>{{item.deptName}}</td>
          <td>{{item.contactNo}}</td>
          <td>{{item.createdDate | date:'dd-MMM-yyyy'}}</td>
          <td>{{item.state}}</td>
          <td>{{item.severity}}</td>
          <td>{{item.assignedToEmployee}}</td>
          <td>{{item.parentCategory}}</td>
          <td>{{item.childCategory}}</td>
        </tr> } </tbody>
    </table> }@else { <table class="table table-bordered table-striped table-hover caption-top">
      <caption class="text-center">{{mode}}</caption>
      <thead>
        <tr>
          <th>Ticket No</th>
          <th>Created Date</th>
          <th>Expected Date</th>
          <th>State</th>
          <th>Severity</th>
          <th>Category</th>
          <th>Sub Category</th>
          <th>Request Details</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody> @for (item of assignedTicketList; track $index) { <tr>
          <td>{{item.ticketNo}}</td>
          <td>{{item.createdDate| date:'dd-MMM-yyyy'}}</td>
          <td>{{item.expectedEndDate| date:'dd-MMM-yyyy'}}</td>
          <td>{{item.state}}</td>
          <td>{{item.severity}}</td>
          <td>{{item.parentCategoryName}}</td>
          <td>{{item.childCategroyName}}</td>
          <td>{{item.requestDetails}}</td>
          <td> @if (item.state == 'Assigned') { <button class="btn btn-success"
              (click)="onStart(item.ticketId)">Start</button> }@else if (item.state == 'In-Progress') { <button
              class="btn btn-warning" (click)="onClose(item.ticketId)">Close</button> }@else { <button
              class="btn btn-danger">Delete</button> } </td>
        </tr> } </tbody>
    </table> } </div>
</div>